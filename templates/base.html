<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}{% endblock %}</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet"
        href="https://unpkg.com/bootstrap/dist/css/bootstrap.css">
  <script src="https://unpkg.com/jquery"></script>
  <script src="https://unpkg.com/popper"></script>
  <script src="https://unpkg.com/bootstrap"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet"> 
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.css">  
  <link rel="stylesheet" href="/static/style.css" type="text/css">
  <!-- ######## JASMINE TESTING CSS ######## -->
      <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jasmine/3.3.0/jasmine.css">
  <!-- ######## JASMINE TESTING CSS ######## -->
</head>

<!-- ================================= PROGRESS BAR ================================= -->

<div class="progress-bar-container hidden">
<div class="progress-bar-box">
  <progress class="progress is-large is-info" max="100">60%</progress>
</div>
</div>

<!-- ================================= NAVBAR ================================= -->

<nav class="navbar is-info" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="/">
      <p class="logo-navbar">Wine-not!</p>
    </a>
    <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div id="navbarBasicExample" class="navbar-menu">
    <div class="navbar-start">
      <a href="/show_results"class="navbar-item">
        Results
      </a>
      {% if not g.user %}
      {% else %}
      <a href="/user/favorites" class="navbar-item">
        Favorites
      </a>
      <a href="/user/reviews" class="navbar-item">
        Reviews
      </a>
      <a href="/user" class="navbar-item">
        Profile
      </a>
      <a href="/logout" class="navbar-item">
        Logout
      </a>
      {% endif %}
    </div>

<!-- ================================= SEARCH BAR ================================= -->

    <div class="navbar-end">
      <div class="field is-grouped" id="search-bar-box">
        <form id="search-form" onsubmit="return false">
            <p class="control has-icons-right has-icons-right">
              <span class="icon is-small is-right search-icon">
                <i class="fas fa-search magnify-glass search-bar"></i>
              </span>
            </p>
            <input class="input" type="text" placeholder="Search for a wine" id="search-bar" name="wine"> 
        </form>
      </div>

<!-- ================================= SIGN UP / LOGIN ================================= -->

      <div class="navbar-item">
        <div class="buttons">
        {% if not g.user %}
          <a href="/signup"class="button is-primary">
            <strong>Sign up</strong>
          </a>
          <a href="/login" class="button is-white has-text-info">
            Log in
          </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</nav>

<!-- ================================= FLASH MESSAGES ================================= -->

<div id="messageContainer">
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
<section class="messages">
{% for category, msg in messages %}
{% if category == 'error'%}
<section class="hero is-small is-light">
  <div class="hero-body">
    <div class="container">
      <h1 class="title has-text-grey-dark">
        {{msg}}
      </h1>
    </div>
  </div>
</section>
{% else %}
<section class="hero is-small is-success">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">
        {{msg}}
      </h1>
    </div>
  </div>
</section>
{% endif %}
{% endfor %}
</section>
{% endif %}
{% endwith%}
</div>
{% block content %}{% endblock %}
<div id="hidden-selects"></div>
</body>

<!-- ================================= SCRIPTS ================================= -->
<!-- ######## JASMINE TESTING SCRIPTS ######## -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/3.3.0/jasmine.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/3.3.0/jasmine-html.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/3.3.0/boot.js"></script>
<!-- ######## JASMINE TESTING SCRIPTS ######## -->
<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
<script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
<script src="https://unpkg.com/axios/dist/axios.js"></script>
<script src="/static/script.js"></script>
</html>