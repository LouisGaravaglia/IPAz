{% extends "base.html" %}

{% block title %} WINE RESULTS {% endblock %}


{% block content %}

  <!-- <h1 class="title is-1 has-text-centered mt-6">Want to.</h1> -->

<!-- ===============================  ORIGINAL WINE STYLE SORTING BAR  ===============================  -->


<!-- <div id="wine-style"class="tabs is-centered">
  <ul>
    <li class="is-active wine-style"><a>All</a></li>
    <li class="wine-style"><a>Blends</a></li>
    <li class="wine-style"><a>Single Varietals</a></li>
  </ul>
</div> -->


<!-- ===============================  ORIGINAL SIDE BAR  ===============================  -->

<!-- <div class="columns my-3 mx-3">

<div class="column is-one-quarter">
<aside class="menu sticky">
  <ul class="menu-list">
    <li>
      <div><p class="">Filter By</p></div>
      <ul id="checkboxes" class="hidden">
        {% for filter in session['filters'] %}
          {% if filter in session['filter_by'] %}
            <li><label class="panel-block"><input type="button" class="button is-primary is-outlined is-rounded is-small mx-2 is-focused" checked="checked">{{filter}}</label></li>
          {% else %}
            <li><label class="panel-block"><input type="button" class="button is-primary is-outlined is-rounded is-small mx-2">{{filter}}</label></li>
          {% endif %}
        {% endfor %}
      </ul>
    </li>
    
  </ul>

  <ul class="menu-list">
    <li><a id="choose-varietals" class="">Choose Varietals</a></li>
</ul>
   
</aside>
</div> -->



<!-- ===============================  SORT BY SIDE BAR  ===============================  -->
<div id="flash" class=""></div>
<!-- <h1 class="title is-1 has-text-grey has-text-centered mt-5 pb-2 new">WINE RESULTS</h1> -->
<div class="has-text-centered mt-6">
<h1 class="block-text">WINE RESULTS</h1>

</div>
    <!-- <div class="container is-fluid is-info">  
    <hr>
</div> -->



<div class="columns my-3 mx-3">

<div class="column is-one-fifth mt-5">
<aside class="menu sticky">
  <ul class="menu-list">
    <li>
      <li><p id="choose-wine-type" class="sort-label noselect">Wine Types</p></li>
      <!-- <hr class="dropdown-divider"> -->
      <ul id="wine-type-checkboxes" class="hidden">
        {% for type in session['wine_type_options'] %}
          {% if type in session['wine_type'] %}
            <li><label class="panel-block has-text-grey"><input type="button" class="button is-info is-rounded is-small mx-2">{{type}}</label></li>
          {% else %}
            <li><label class="panel-block has-text-grey"><input type="button" class="button is-info is-light is-rounded is-small mx-2">{{type}}</label></li>
          {% endif %}
        {% endfor %}
      </ul>
    </li>
  </ul>
  <ul class="menu-list">
    <li>
      <li><p id="choose-wine-style" class="sort-label noselect">Wine Style</p></li>
      <!-- <hr class="dropdown-divider"> -->
      <ul id="wine-style-checkboxes" class="hidden">
        {% for style in session['wine_style_options'] %}
          {% if style in session['wine_style'] %}
            <li><label class="panel-block has-text-grey"><input type="button" class="button is-info is-rounded is-small mx-2">{{style}}</label></li>
          {% else %}
            <li><label class="panel-block has-text-grey"><input type="button" class="button is-info is-light is-rounded is-small mx-2">{{style}}</label></li>
          {% endif %}
        {% endfor %}
      </ul>
    </li>
  </ul>
  <ul class="menu-list">
    <li>
      <li><p id="choose-sort-by" class="sort-label noselect">Sort By</p></li>
      <!-- <hr class="dropdown-divider"> -->
      <ul id="sort-by-checkboxes" class="hidden">
        {% for sort in session['sort_by_options'] %}
          {% if sort in session['sort_by'] %}
            <li><label class="panel-block has-text-grey"><input type="button" class="button is-info is-rounded is-small mx-2">{{sort}}</label></li>
          {% else %}
            <li><label class="panel-block has-text-grey"><input type="button" class="button is-info is-light is-rounded is-small mx-2">{{sort}}</label></li>
          {% endif %}
        {% endfor %}
      </ul>
    </li>
  </ul>

  <ul class="menu-list">
    <li><p id="choose-varietals"  class="sort-label noselect">Varietals</p></li>
</ul>
    <!-- ===============================  NEW SORT BY ===============================  -->
<!-- <hr class="dropdown-divider"> -->

<!-- <div class="dropdown is-active">
  <div class="dropdown-trigger">
    <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
      <span>Dropdown button</span>
    </button>
  </div>
</div> -->

    
</aside>
</div>


<!-- ===============================  WINE CARDS  ===============================  -->

<div class="column is-three-quarters">
<div class="columns my-3 mx-3 is-multiline" id="wine-results">
<!-- {% for wine in wines%}
  {% if wine == 'No Results' %}
  <section class="hero is-small is-light mt-6 mx-6">
  <div class="hero-body">
    <div class="container">
      <h1 class="title has-text-info">
        No wines available.
      </h1>
    </div>
  </div>
</section>
{% else %}

<div class="column is-half">
  <div class="has-text-centered">
  </div>
  
  <article class="message is-info">
  
  <div class="message-header">
    <p>{{wine['Name']}}</p>
  </div>

  <div class="message-body">
    <p><strong>NAME: </strong>{{wine['Name']}}</p>
    <p><strong>WINERY: </strong>{{wine['Winery']}}</p>
    <p><strong>COUNTRY: </strong>{{wine['Country']}}</p>
    <p><strong>AREA: </strong>{{wine['Area']}}</p>
    <p><strong>VINTAGE: </strong>{{wine['Vintage']}}</p>
    <p><strong>VARIETAL: </strong>{{wine['Varietal']}}</p>
    <p><strong>TYPE: </strong>{{wine['Type']}}</p>
    <p><strong>RATING: </strong>{{wine['Rating']}}</p>
  </div>

  <div class="columns">
    <div class="column is-half has-text-centered mx-0 my-0">
            <button class="button is-text fav-button favorite-button" data-id="{{wine['ID']}}" type="submit">
              <span class="icon">
                {% if wine['ID'] in user_favorites %}
                <div id="fav-box-{{wine['ID']}}" data-id="{{wine['ID']}}" class="myFas">
                    <i class="fas fa-star" data-id="{{wine['ID']}}"></i>
                    </div>
                {% else %}
                <div id="fav-box-{{wine['ID']}}" class="myFar">
                    <i class="far fa-star" data-id="{{wine['ID']}}"></i>
                    </div>
                {% endif %}
        </span>
      </button>
    </div>
    <div class="column is-half has-text-centered mx-0 my-0" id="review-btn">
        <a href="/user/review/{{wine['ID']}}" class="button is-text review-btn" data-id="{{wine['ID']}}">
        <span class="icon review-btn">
            {% if wine['ID'] in user_reviews %}
                <i class="fas fa-edit review-btn"></i>
            {% else %}
                <i class="far fa-edit review-btn"></i>
            {% endif %}
        
        </span>
        </a>
    </div>
  </div>
</article>




</div>
  
  
  {% endif %}
{% endfor %} -->
</div>

<!-- ===============================  PAGINATION  ===============================  -->

<nav class="pagination" role="navigation" aria-label="pagination" id="main-pagination">
  <div class="is-grouped pagination-box">
<a class="main-pagination-previous button has-text-white is-info">Previous</a>
  <a class="main-pagination-next button has-text-white is-info">Next</a>

  </div>
  
</nav>



<!-- ===============================  MODAL FOR VARIETALS  ===============================  -->


<div id="modal" class="modal">
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title">Varietals</p>
      <!-- <button class="delete toggle-off" aria-label="close"></button> -->
    </header>
    <section id="varietals-modal" class="modal-card-body">
      <!-- Content ... -->
    </section>
    <footer class="modal-card-foot">
      <button class="button is-info toggle-off">Save</button>
      <!-- <button class="button toggle-off">Cancel</button> -->
    </footer>
  </div>
</div>



{% endblock %}



