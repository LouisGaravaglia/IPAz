{% extends "base.html" %}

{% block title %} WINE RESULTS {% endblock %}


{% block content %}

  <!-- <h1 class="title is-1 has-text-centered mt-6">Want to.</h1> -->

<div id="wine-style"class="tabs is-centered">
  <ul>
    <li class="is-active wine-style"><a>All</a></li>
    <li class="wine-style"><a>Blends Only</a></li>
    <li class="wine-style"><a>Single Varietals Only</a></li>
  </ul>
</div>

<div class="columns my-3 mx-3">

<div class="column is-one-quarter">
<aside class="menu sticky">
  <ul class="menu-list">
    <li>
      <p class="">Filter By</p>
      <ul id="checkboxes">
        {% for filter in session['filters'] %}
          {% if filter in session['filter_by'] %}
            <li><label class="panel-block"><input type="button" class="button is-primary is-outlined is-rounded is-small mx-2 is-focused" checked="checked">{{filter}}</label></li>
          {% else %}
            <li><label class="panel-block"><input type="button" class="button is-primary is-outlined is-rounded is-small mx-2">{{filter}}</label></li>
          {% endif %}
        {% endfor %}
      </ul>
    </li>
    
  </ul>

  <ul class="menu-list">
    <li><a id="choose-varietals" class="">Choose Varietals</a></li>
    
</aside>
</div>

<div class="column is-three-quarters">
<div class="columns my-3 mx-3 is-multiline" id="wine-results">
{% for wine in wines%}
  {% if wine == 'No Results' %}
  <h3 class="title is-3 has-text-centered mt-6">No wines available.</h3>
{% else %}

<div class="column is-half">
  <div class="has-text-centered">
  </div>
  
  <article class="message is-dark" id="favorite-button">
  
  <div class="message-header">
    <p>{{wine['Name']}}</p>
  </div>

  <div class="message-body">
    <p><strong>NAME: </strong>{{wine['Name']}}</p>
    <p><strong>WINERY: </strong>{{wine['Winery']}}</p>
    <p><strong>COUNTRY: </strong>{{wine['Country']}}</p>
    <p><strong>AREA: </strong>{{wine['Area']}}</p>
    <p><strong>VINTAGE: </strong>{{wine['Vintage']}}</p>
    <p><strong>VARIETAL: </strong>{{wine['Varietal']}}</p>
    <p><strong>TYPE: </strong>{{wine['Type']}}</p>
    <p><strong>RATING: </strong>{{wine['Rating']}}</p>
    <p><strong>WINE ID: </strong>{{wine['ID']}}</p>
  </div>

  <div class="columns">
    <div class="column is-half has-text-centered mx-0 my-0" id="favorite-button">
      
      {% if wine['ID'] in user_favorites %}
      <button class="button is-dark fav-button favorite-button" data-id="{{wine['ID']}}" type="submit">
      {% else %}
      <button class="button is-text fav-button favorite-button" data-id="{{wine['ID']}}" type="submit">
      {% endif %}
      
        <span class="icon is-small favorite-button">
        <i class="fas fa-thumbtack favorite-button"></i>
        </span>
      </button>
    </div>
    <div class="column is-half has-text-centered mx-0 my-0" id="review-btn">
      <form method="POST" action="/user/review/{{wine['ID']}}" id="review-form">
      <button class="button is-text review-btn" data-id="{{wine['ID']}}">
        <span class="icon is-small is-right review-btn">
        <i class="fas fa-pen review-btn"></i>
        </span>
      </button>
      </form>
    </div>
  </div>
</article>


  
<!-- <div class="column is-half">
  <div class="has-text-centered">
  </div>

  <div class="card">
  <header class="card-header">
    <p class="card-header-title">
      Wine
    </p>
    <a href="#" class="card-header-icon" aria-label="more options">
      <span class="icon">
        <i class="fas fa-angle-down" aria-hidden="true"></i>
      </span>
    </a>
  </header>
  <div class="card-content">
    <div class="content">
    <p>NAME: {{wine['Name']}}</p>
    <p>WINERY: {{wine['Winery']}}</p>
    <p>COUNTRY: {{wine['Country']}}</p>
    <p>AREA: {{wine['Area']}}</p>
    <p>VINTAGE: {{wine['Vintage']}}</p>
    <p>VARIETAL: {{wine['Varietal']}}</p>
    <p>TYPE: {{wine['Type']}}</p>
    <p>RATING: {{wine['Rating']}}</p>
      
    </div>
  </div>
  <footer class="card-footer">
    <a href="#" class="card-footer-item">Favorite</a>
    <a href="#" class="card-footer-item">Review</a>
  </footer>
</div> -->
</div>
  
  {% endif %}
{% endfor %}
</div>
</div>
</div>



<div id="modal" class="modal">
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title">Varietals</p>
      <!-- <button class="delete toggle-off" aria-label="close"></button> -->
    </header>
    <section id="varietals-modal" class="modal-card-body">
      <!-- Content ... -->
    </section>
    <footer class="modal-card-foot">
      <button class="button is-success toggle-off">Save changes</button>
      <!-- <button class="button toggle-off">Cancel</button> -->
    </footer>
  </div>
</div>

{% endblock %}
