{% extends "base.html" %}

{% block title %} FAVORITES {% endblock %}


{% block content %}
<div id="flash"></div>
<h1 class="title is-1 has-text-centered">MY FAVORITES</h1>
<hr>

<div class="columns my-3 mx-3 is-multiline" id="wine-results">
 {% if faved_wines[0] == Undefined %}
    <h3 class="title is-3 has-text-centered mt-6">No favorites.</h3>
  {% else %}
{% for wine in faved_wines %}
 

<div class="column is-one-third">
  <article class="message is-dark">
  
  <div class="message-header">
    <p>{{wine.name}}</p>
  </div>

  <div class="message-body">
    <p><strong>NAME: </strong>{{wine.name}}</p>
    <p><strong>WINERY: </strong>{{wine.winery}}</p>
    <p><strong>COUNTRY: </strong>{{wine.country}}</p>
    <p><strong>AREA: </strong>{{wine.area}}</p>
    <p><strong>VINTAGE: </strong>{{wine.vintage}}</p>
    <p><strong>VARIETAL: </strong>{{wine.varietal}}</p>
    <p><strong>TYPE: </strong>{{wine.type}}</p>
    <p><strong>RATING: </strong>{{wine.rating}}</p>
  </div>

    <div class="columns">
    <div class="column is-half has-text-centered mx-0 my-0">
      <button class="button is-text fav-button favorite-button" data-id="{{wine.id}}" type="submit">
        <span class="icon">
        <i class="fas fa-star"></i>
        </span>
      </button>
      
    </div>
    <div class="column is-half has-text-centered mx-0 my-0" id="review-btn">
      <form method="POST" action="/user/review/{{wine.id}}" id="review-form">
      <button class="button is-text review-btn" data-id="{{wine.id}}">
        <span class="icon review-btn">
        {% if wine.id in user_reviews %}
                <i class="fas fa-edit review-btn"></i>
            {% else %}
                <i class="far fa-edit review-btn"></i>
            {% endif %}
        </span>
      </button>
      </form>
    </div>
  </div>

</article>
</div>

  
{% endfor %}
{% endif %}
</div>


{% endblock %}
